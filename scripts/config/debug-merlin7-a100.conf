#!/bin/bash

#
# Configuration file for tests on A100 GPUs on merlin7
#

#-------------------------------------------------------------------------------
# Branches 
#
branch="master"
regtests_branch="cleanup"

#-------------------------------------------------------------------------------
# CMake args
#
cmake_args+=("-DBUILD_TYPE=Debug")
cmake_args+=("-DPLATFORMS=CUDA")
cmake_args+=("-DARCH=AMPERE80")
cmake_args+=("-DCMAKE_CUDA_ARCHITECTURES=80") # GPU arch not propagated to heffte

#-------------------------------------------------------------------------------
# OPALX args 
#
#opalx_args=()

#-------------------------------------------------------------------------------
# Unit tests args
#
#unittests_args=()

#-------------------------------------------------------------------------------
# Modules 
#

module purge
module use Spack unstable
module load gcc/13.2.0 
module load openmpi/4.1.6-57rc-A100-gpu
module load gnutls/3.8.3 
module load googletest/1.14.0 
module load cmake